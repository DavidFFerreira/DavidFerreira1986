<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Star Citizen Ship Price</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        h1 { text-align: center; }
        table { width: 100%; margin: 20px 0; }
    </style>
</head>
<body>

    <h1>Star Citizen Ship Price List</h1>

    <div id="tables-container">
        <h2>Pyro - Major Stations</h2>
        <table id="pyroTable"></table>
        
        <h2>Hurston</h2>
        <table id="hurstonTable"></table>
        
        <h2>Arrcorp</h2>
        <table id="arrcorpTable"></table>

        <h2>Crusader</h2>
        <table id="crusaderTable"></table>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
    
    <script>
        const fetchGitHubFile = (url) => {
            return fetch(url)
                .then(response => response.json())
                .then(data => {
                    const content = atob(data.content); // Decodifica o conteÃºdo base64
                    return content.split("\n").map(line => line.split("\t"));
                })
                .catch(error => console.error('Erro ao buscar o arquivo:', error));
        };

        const renderTable = (data, tableId) => {
            $(`#${tableId}`).DataTable({
                data: data,
                columns: [
                    { title: "Ship" },
                    { title: "Price In Game (aUEC)" },
                    { title: "Location" }
                ],
                searching: true,
                ordering: true,
                pageLength: 10
            });
        };

        // Carregar os dados para Pyro
        fetchGitHubFile('https://davidferreira.eu/pyroShipList.txt')
            .then(data => renderTable(data, "pyroTable"));

        // Carregar os dados para Hurston
        fetchGitHubFile('https://api.github.com/repos/davidferreira/seu-repositorio/contents/HurstonShipList.txt')
            .then(data => renderTable(data, "hurstonTable"));

        // Carregar os dados para Arrcorp
        fetchGitHubFile('https://api.github.com/repos/davidferreira/seu-repositorio/contents/ArrcorpShipList.txt')
            .then(data => renderTable(data, "arrcorpTable"));

        // Carregar os dados para Crusader
        fetchGitHubFile('https://raw.githubusercontent.com/DavidFFerreira/DavidFerreira1986/refs/heads/main/CrusaderShipList.txt')
            .then(data => renderTable(data, "crusaderTable"));
    </script>
</body>
</html>
